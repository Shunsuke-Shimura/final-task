{% load tm33t_state %}
{% for tm33t in latest_tm33t_list %}
<div>
    {% if tm33t.is_retm33t %}
    <!-- retm33t -->
    <p>Retm33ted by : @{{ tm33t.poster }}</p>
    <p>{{ tm33t.retm33t.tm33t_retm33ted.content|linebreaksbr }}</p>
    <p>Tm33ted : {{ tm33t.retm33t.tm33t_retm33ted.post_time }}</p>
    <p>By : @{{ tm33t.retm33t.tm33t_retm33ted.poster }}</p>
    {% else %}
    <!-- normal tm33t -->
    <p>{{ tm33t.content|linebreaksbr }}</p>
    <p>Tm33ted : {{ tm33t.post_time }}</p>
    <p>By : @{{ tm33t.poster }}</p>
    {% endif %}
    <p><a href="{% url 'tmitt3r:detail' tm33t.pk %}">è©³ç´°</a></p>
    <div>
        <!-- reply -->
        <a href="{% url 'tmitt3r:reply' tm33t.pk %}">
            <i class="fas fa-reply"></i>
        </a>
        <!-- retm33t -->
        <button onclick="retm33tAjax(this)" data-state="{% retm33t_state tm33t request.user as retm33tState %}" data-tm33t-pk="{{ tm33t.pk }}">
            <i class="fas fa-retweet {{ retm33tState }}"></i>
        </button>
        <!-- like -->
        <button type="button" onclick="tm33tLikeAjax(this)" data-state="{% like_state tm33t request.user as likeState %}" data-tm33t-pk="{{ tm33t.pk }}">
            <i class="fas fa-heart heart {{ likeState }}"></i>
        </button>
    </div>
</div>
{% empty %}
    {% if name == request.user %}
        <p>You haven't tm33ted yet.</p>
    {% else %}
        <p>{{ name }} haven't tm33ted yet.</p>
    {% endif %}
{% endfor %}
